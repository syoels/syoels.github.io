<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>title</title>

    <!-- Cod Box Copy begin -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
    <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/gh/jablonczay/code-box-copy/code-box-copy/css/code-box-copy.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/combine/gh/jablonczay/code-box-copy/clipboard/clipboard.min.js,gh/jablonczay/code-box-copy/code-box-copy/js/code-box-copy.min.js"></script>
    <!-- Cod Box Copy end -->

</head>

<style>
    .create_link_btn {
        width: 90px;
        height: 26px;
        background: #e83d3d;
        color: white;
        border: none;
        padding: 5px;
        font-weight: 100;
        font-family: monospace;
        font-size: 14px;
        cursor: pointer;
    }
    
    .code-box-copy {
        visibility: hidden;
    }
    
    .create_link {
        visibility: hidden;
    }
</style>

<body>

    <div class="code-box-copy">
        <button class="code-box-copy__btn" data-clipboard-target="#example-html" title="Copy"></button>
        <pre>
		<code class="language-html" id="example-html">
			<div class="example">
				Lorem ipsum
			</div>
		</code>
	</pre>
    </div>

    <div class="create_link">
        <input id="create_link_input" type="text" name="create_link_input">
        <button class="create_link_btn" title="Create Link">Generate</button>
        <a id="link" href="url"></a>
    </div>

    <script>
        (function($) {
            $('.code-box-copy').codeBoxCopy();
        })(jQuery);

        $(".create_link_btn").click(function() {
            var txt = $("#create_link_input").val();
            $("#link").attr("href", "https://syoels.github.io/?txt=" + txt);
            $("#link").text("You link is ready!");
        });

        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
                vars[key] = value;
            });
            return vars;
        }

        vars = getUrlVars();
        var to_copy = vars["txt"];
        $(".example").text($..parseHTML(to_copy));

        if (to_copy) {
            $(".create_link").show();
        } else {
            $("code-box-copy").show();
        }
    </script>

</body>

</html>
